# MGMT Environment: 테스트/포트폴리오용 최소 스펙
# 비용 최적화 버전 (2026-01-06)

# AWS 리전
aws_region = "ap-southeast-2"

# AWS 계정 ID (필수)
aws_account_id = "827913617839"

# 프로젝트 설정
project_name = "kyeol"
owner_prefix = "min"
environment  = "mgmt"

# VPC CIDR
vpc_cidr = "10.40.0.0/16"

# 가용영역 (2AZ)
azs = ["ap-southeast-2a", "ap-southeast-2c"]

# =============================================================================
# EKS 설정 (최소 스펙)
# =============================================================================
eks_cluster_version     = "1.32"  # 1.29 → 1.32 (Standard support until 2026-03)
eks_node_instance_types = ["t3.small"]  # t3.medium → t3.small
eks_node_desired_size   = 1             # 2 → 1
eks_node_min_size       = 1
eks_node_max_size       = 2             # 3 → 2

# Route53 Hosted Zone ID
hosted_zone_id = "ZXXXXXXXXXX"

# =============================================================================
# Global WAF + CloudFront (비활성화 - 비용 절감)
# =============================================================================
enable_global_waf  = false  # true → false
waf_rate_limit     = 5000
enable_waf_logging = false  # true → false

# CloudFront (비활성화)
enable_cloudfront  = false  # true → false
cloudfront_acm_arn = ""
domain             = "msp-g1.click"

# =============================================================================
# CloudTrail - 중앙 수집 모델 (MGMT 단일)
# 계정 전체 감사 로그를 MGMT에서 단일 Trail로 수집
# DEV/STAGE/PROD에서는 CloudTrail을 생성하지 않음
# =============================================================================
enable_cloudtrail = true   # MGMT에서만 활성화

# 비용 최적화 설정
enable_cloudtrail_data_events = false  # S3/Lambda 데이터 이벤트 OFF (비용 절감)
enable_cloudtrail_cloudwatch  = false  # CloudWatch Logs OFF (실시간 알람 불필요 시)
cloudtrail_log_retention_days = 30

# KMS 암호화 (ISMS-P 권장, 테스트 환경에서는 OFF)
enable_cloudtrail_kms  = false
cloudtrail_kms_key_arn = ""

